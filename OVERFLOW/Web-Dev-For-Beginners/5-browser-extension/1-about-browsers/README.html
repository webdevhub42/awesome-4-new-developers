<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="browser-extension-project-part-1-all-about-browsers">Browser Extension Project Part 1: All about Browsers</h1>
<p><img src="/sketchnotes/browser.jpg" alt="Browser sketchnote" /> &gt; Sketchnote by <a href="https://dev.to/wassimchegham/ever-wondered-what-happens-when-you-type-in-a-url-in-an-address-bar-in-a-browser-3dob">Wassim Chegham</a></p>
<h2 id="pre-lecture-quiz">Pre-Lecture Quiz</h2>
<p><a href="https://happy-mud-02d95f10f.azurestaticapps.net/quiz/23">Pre-lecture quiz</a></p>
<h3 id="introduction">Introduction</h3>
<p>Browser extensions add additional functionality to a browser. But before you build one, you should learn a little about how browsers do their work.</p>
<h3 id="about-the-browser">About the browser</h3>
<p>In this series of lessons, you’ll learn how to build a browser extension that will work on Chrome, Firefox and Edge browsers. In this part, you’ll discover how browsers work and scaffold out the elements of the browser extension.</p>
<p>But what is a browser exactly? It is a software application that allows an end user to access content from a server and display it on web pages.</p>
<p>✅ A little history: the first browser was called ‘WorldWideWeb’ and was created by Sir Timothy Berners-Lee in 1990.</p>
<p><img src="images/earlybrowsers.jpg" alt="early browsers" /> &gt; Some early browsers, via <a href="https://www.slideshare.net/KMcGrane/week-4-ixd-history-personal-computing">Karen McGrane</a></p>
<p>When a user connected to the internet using a URL (Uniform Resource Locator) address, usually using Hypertext Transfer Protocol via an <code>http</code> or <code>https</code> address, the browser communicates with a web server and fetches a web page.</p>
<p>At this point, the browser’s rendering engine displays it on the user’s device, which might be a mobile phone, desktop, or laptop.</p>
<p>Browsers also have the ability to cache content so that it doesn’t have to be retrieved from the server every time. They can record the history of a user’s browsing activity, store ‘cookies’, which are small bits of data that contain information used to store a user’s activity, and more.</p>
<p>A really important thing to remember about browsers is that they are not all the same! Each browser has its strengths and weaknesses, and a professional web developer needs to understand how to make web pages perform well cross-browser. This includes handling small viewports such as a mobile phone’s, as well as a user who is offline.</p>
<p>A really useful website that you probably should bookmark in whatever browser you prefer to use is <a href="https://www.caniuse.com">caniuse.com</a>. When you are building web pages, it’s very helpful to use caniuse’s lists of supported technologies so that you can best support your users.</p>
<p>✅ How can you tell what browsers are most popular with your web site’s user base? Check your analytics - you can install various analytics packages as part of your web development process, and they will tell you what browsers are most used by the various popular browsers.</p>
<h2 id="browser-extensions">Browser extensions</h2>
<p>Why would you want to build a browser extension? It’s a handy thing to attach to your browser when you need quick access to tasks that you tend to repeat. For example, if you find yourself needing to check colors on the various web pages that you interact with, you might install a color-picker browser extension. If you have trouble remembering passwords, you might use a password-management browser extension.</p>
<p>Browser extensions are fun to develop, too. They tend to manage a finite number of tasks that they perform well.</p>
<p>✅ What are your favorite browser extensions? What tasks do they perform?</p>
<h3 id="installing-extensions">Installing extensions</h3>
<p>Before you start building, take a look at the process of building and deploying a browser extension. While each browser varies a bit in how they manage this task, the process is similar on Chrome and Firefox to this example on Edge:</p>
<figure>
<img src="images/install-on-edge.png" alt="screenshot of the Edge browser showing the open edge://extensions page and open settings menu" /><figcaption>screenshot of the Edge browser showing the open edge://extensions page and open settings menu</figcaption>
</figure>
<p>In essence, the process will be:</p>
<ul>
<li>build your extension using <code>npm run build</code></li>
<li>navigate in the browser to the extensions pane using the “Settings and more” button (the <code>...</code> icon) on the top right</li>
<li>if it’s a new installation, choose <code>load unpacked</code> to upload a fresh extension from its build folder (in our case it is <code>/dist</code>)</li>
<li>or, click <code>reload</code> if you are reloading the already-installed extension</li>
</ul>
<p>✅ These instructions pertain to extensions you build yourself; to install extensions that have been released to the browser extension store associated to each browser, you should navigate to those <a href="https://microsoftedge.microsoft.com/addons/Microsoft-Edge-Extensions-Home">stores</a> and install the extension of your choice.</p>
<h3 id="get-started">Get Started</h3>
<p>You’re going to build a browser extension that displays your region’s carbon footprint, showing your region’s energy usage and the source of the energy. The extension will have a form that collects an API key so that you can access CO2 Signal’s API.</p>
<p><strong>You need:</strong></p>
<ul>
<li><a href="https://www.co2signal.com/">an API key</a>; enter your email in the box on this page and one will be sent to you</li>
<li>the <a href="http://api.electricitymap.org/v3/zones">code for your region</a> corresponding to the <a href="https://www.electricitymap.org/map">Electricity Map</a> (in Boston, for example, I use ‘US-NEISO’).</li>
<li>the <a href="../start">starter code</a>. Download the <code>start</code> folder; you will be completing code in this folder.</li>
<li><a href="https://www.npmjs.com">NPM</a> - NPM is a package management tool; install it locally and the packages listed in you <code>package.json</code> file will be installed for use by your web asset</li>
</ul>
<p>✅ Learn more about package management in this <a href="https://docs.microsoft.com/learn/modules/create-nodejs-project-dependencies/?WT.mc_id=academic-13441-cxa">excellent Learn module</a></p>
<p>Take a minute to look through the codebase:</p>
<p>dist -|manifest.json (defaults set here) -|index.html (front-end HTML markup here) -|background.js (background JS here) -|main.js (built JS) src -|index.js (your JS code goes here)</p>
<p>✅ Once you have your API key and Region code handy, store those somewhere in a note for future use.</p>
<h3 id="build-the-html-for-the-extension">Build the HTML for the extension</h3>
<p>This extension has two views. One to gather the API key and region code:</p>
<figure>
<img src="images/1.png" alt="screenshot of the completed extension open in a browser, displaying a form with inputs for region name and API key." /><figcaption>screenshot of the completed extension open in a browser, displaying a form with inputs for region name and API key.</figcaption>
</figure>
<p>And the second to display the region’s carbon usage:</p>
<figure>
<img src="images/2.png" alt="screenshot of the completed extension displaying values for carbon usage and fossil fuel percentage for the US-NEISO region." /><figcaption>screenshot of the completed extension displaying values for carbon usage and fossil fuel percentage for the US-NEISO region.</figcaption>
</figure>
<p>Let’s start by building the HTML for the form and styling it with CSS.</p>
<p>In the <code>/dist</code> folder, you will build a form and a result area. In the <code>index.html</code> file, populate the delineated form area:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">&lt;form</span><span class="ot"> class=</span><span class="st">&quot;form-data&quot;</span><span class="ot"> autocomplete=</span><span class="st">&quot;on&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-3" title="3">        <span class="kw">&lt;h2&gt;</span>New? Add your Information<span class="kw">&lt;/h2&gt;</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;region&quot;</span><span class="kw">&gt;</span>Region Name<span class="kw">&lt;/label&gt;</span></a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> id=</span><span class="st">&quot;region&quot;</span><span class="ot"> required class=</span><span class="st">&quot;region-name&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-10" title="10">        <span class="kw">&lt;label</span><span class="ot"> for=</span><span class="st">&quot;api&quot;</span><span class="kw">&gt;</span>Your API Key from tmrow<span class="kw">&lt;/label&gt;</span></a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="kw">&lt;input</span><span class="ot"> type=</span><span class="st">&quot;text&quot;</span><span class="ot"> id=</span><span class="st">&quot;api&quot;</span><span class="ot"> required class=</span><span class="st">&quot;api-key&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;search-btn&quot;</span><span class="kw">&gt;</span>Submit<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="kw">&lt;/form&gt;</span> </a></code></pre></div>
<p>This is the form where your saved information will be input and saved to local storage.</p>
<p>Next, create the results area; under the final form tag, add some divs:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;result&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;loading&quot;</span><span class="kw">&gt;</span>loading...<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;errors&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;data&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;result-container&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Region: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;my-region&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Carbon Usage: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;carbon-usage&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-8" title="8">        <span class="kw">&lt;p&gt;&lt;strong&gt;</span>Fossil Fuel Percentage: <span class="kw">&lt;/strong&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;fossil-fuel&quot;</span><span class="kw">&gt;&lt;/span&gt;&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="kw">&lt;button</span><span class="ot"> class=</span><span class="st">&quot;clear-btn&quot;</span><span class="kw">&gt;</span>Change region<span class="kw">&lt;/button&gt;</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<p>At this point, you can try a build. Make sure to install the package dependencies of this extension:</p>
<pre><code>npm install</code></pre>
<p>This command will use npm, the Node Package Manager, to install webpack for your extension’s build process. Webpack is a bundler that handles compiling code. You can see the output of this process by looking in <code>/dist/main.js</code> - you see the code has been bundled.</p>
<p>For now, the extension should build and, if you deploy it into Edge as an extension, you’ll see a form neatly displayed.</p>
<p>Congratulations, you’ve taken the first steps towards building a browser extension. In subsequent lessons, you’ll make it more functional and useful.</p>
<hr />
<h2 id="challenge">🚀 Challenge</h2>
<p>Take a look at a browser extension store and install one to your browser. You can examine its files in interesting ways. What do you discover?</p>
<h2 id="post-lecture-quiz">Post-Lecture Quiz</h2>
<p><a href="https://happy-mud-02d95f10f.azurestaticapps.net/quiz/24">Post-lecture quiz</a></p>
<h2 id="review-self-study">Review &amp; Self Study</h2>
<p>In this lesson you learned a little about the history of the web browser; take this opportunity to learn about how the inventors of the World Wide Web envisioned its use by reading more about its history. Some useful sites include:</p>
<p><a href="https://www.mozilla.org/firefox/browsers/browser-history/">The History of Web Browsers</a></p>
<p><a href="https://webfoundation.org/about/vision/history-of-the-web/">History of the Web</a></p>
<p><a href="https://www.theguardian.com/technology/2019/mar/12/tim-berners-lee-on-30-years-of-the-web-if-we-dream-a-little-we-can-get-the-web-we-want">An interview with Tim Berners-Lee</a></p>
<h2 id="assignment">Assignment</h2>
<p><a href="assignment.md">Restyle your extension</a></p>
</body>
</html>
